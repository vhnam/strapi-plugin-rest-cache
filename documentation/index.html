<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.36">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" type="image/png" href="/icon.png"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,600,0,700&display=swap"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap"><title>Guide | REST Cache</title><meta name="description" content="Speed-up HTTP requests with LRU cache">
    <link rel="modulepreload" href="/strapi-plugin-rest-cache/assets/app.0455fa15.js"><link rel="modulepreload" href="/strapi-plugin-rest-cache/assets/index.html.a8b1d209.js"><link rel="modulepreload" href="/strapi-plugin-rest-cache/assets/index.html.cdddb1b3.js"><link rel="modulepreload" href="/strapi-plugin-rest-cache/assets/plugin-vue_export-helper.21dcd24c.js">
    <link rel="stylesheet" href="/strapi-plugin-rest-cache/assets/style.be7ebb04.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/strapi-plugin-rest-cache/" class=""><img class="logo" src="/strapi-plugin-rest-cache/icon.png" alt="REST Cache"><span class="site-name can-hide">REST Cache</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/strapi-plugin-rest-cache/getting-started/" class="" aria-label="Getting started"><!--[--><!--]--> Getting started <!--[--><!--]--></a></div><div class="navbar-item"><a aria-current="page" href="/strapi-plugin-rest-cache/documentation/" class="router-link-active router-link-exact-active router-link-active" aria-label="Developer Guide"><!--[--><!--]--> Developer Guide <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="v4.2.0"><span class="title">v4.2.0</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="v4.2.0"><span class="title">v4.2.0</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/strapi-community/strapi-plugin-rest-cache/releases" rel="noopener noreferrer" target="_blank" aria-label="Releases"><!--[--><!--]--> Releases <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/patrixr/strapi-middleware-cache" rel="noopener noreferrer" target="_blank" aria-label="Strapi v3.x.x version"><!--[--><!--]--> Strapi v3.x.x version <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/strapi-community/strapi-plugin-rest-cache" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/strapi-plugin-rest-cache/getting-started/" class="" aria-label="Getting started"><!--[--><!--]--> Getting started <!--[--><!--]--></a></div><div class="navbar-item"><a aria-current="page" href="/strapi-plugin-rest-cache/documentation/" class="router-link-active router-link-exact-active router-link-active" aria-label="Developer Guide"><!--[--><!--]--> Developer Guide <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="v4.2.0"><span class="title">v4.2.0</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="v4.2.0"><span class="title">v4.2.0</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/strapi-community/strapi-plugin-rest-cache/releases" rel="noopener noreferrer" target="_blank" aria-label="Releases"><!--[--><!--]--> Releases <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/patrixr/strapi-middleware-cache" rel="noopener noreferrer" target="_blank" aria-label="Strapi v3.x.x version"><!--[--><!--]--> Strapi v3.x.x version <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/strapi-community/strapi-plugin-rest-cache" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active">Developer Guide <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/strapi-plugin-rest-cache/documentation/" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="Guide"><!--[--><!--]--> Guide <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/strapi-plugin-rest-cache/documentation/#provider" class="router-link-active router-link-exact-active sidebar-item" aria-label="Provider"><!--[--><!--]--> Provider <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/strapi-plugin-rest-cache/documentation/#strategy" class="router-link-active router-link-exact-active sidebar-item" aria-label="Strategy"><!--[--><!--]--> Strategy <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/strapi-plugin-rest-cache/documentation/#enable-cache-on-custom-routes" class="router-link-active router-link-exact-active sidebar-item" aria-label="Enable cache on custom routes"><!--[--><!--]--> Enable cache on custom routes <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/strapi-plugin-rest-cache/documentation/#disable-cache-for-default-routes" class="router-link-active router-link-exact-active sidebar-item" aria-label="Disable cache for default routes"><!--[--><!--]--> Disable cache for default routes <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/strapi-plugin-rest-cache/documentation/#content-type-relations" class="router-link-active router-link-exact-active sidebar-item" aria-label="Content-Type relations"><!--[--><!--]--> Content-Type relations <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/strapi-plugin-rest-cache/documentation/#dealing-with-private-content-and-authentication" class="router-link-active router-link-exact-active sidebar-item" aria-label="Dealing with private content and authentication"><!--[--><!--]--> Dealing with private content and authentication <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/strapi-plugin-rest-cache/documentation/#purging-cache-programmatically" class="router-link-active router-link-exact-active sidebar-item" aria-label="Purging cache programmatically"><!--[--><!--]--> Purging cache programmatically <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/strapi-plugin-rest-cache/documentation/#enable-debug-mode" class="router-link-active router-link-exact-active sidebar-item" aria-label="Enable debug mode"><!--[--><!--]--> Enable debug mode <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></li><li><a href="/strapi-plugin-rest-cache/documentation/how-it-works.html" class="sidebar-item" aria-label="How it works"><!--[--><!--]--> How it works <!--[--><!--]--></a><!----></li><li><a href="/strapi-plugin-rest-cache/documentation/configuration-reference.html" class="sidebar-item" aria-label="Configuration Reference"><!--[--><!--]--> Configuration Reference <!--[--><!--]--></a><!----></li><li><a href="/strapi-plugin-rest-cache/documentation/memory-provider.html" class="sidebar-item" aria-label="Memory provider"><!--[--><!--]--> Memory provider <!--[--><!--]--></a><!----></li><li><a href="/strapi-plugin-rest-cache/documentation/redis-provider.html" class="sidebar-item" aria-label="Redis provider"><!--[--><!--]--> Redis provider <!--[--><!--]--></a><!----></li><li><a href="/strapi-plugin-rest-cache/documentation/couchbase-provider.html" class="sidebar-item" aria-label="Couchbase provider"><!--[--><!--]--> Couchbase provider <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading">Advanced <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/strapi-plugin-rest-cache/documentation/services.html" class="sidebar-item" aria-label="Services"><!--[--><!--]--> Services <!--[--><!--]--></a><!----></li><li><a href="/strapi-plugin-rest-cache/documentation/routes.html" class="sidebar-item" aria-label="Routes"><!--[--><!--]--> Routes <!--[--><!--]--></a><!----></li><li><a href="/strapi-plugin-rest-cache/documentation/custom-provider.html" class="sidebar-item" aria-label="Custom provider"><!--[--><!--]--> Custom provider <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="strapi-plugin-rest-cache" tabindex="-1"><a class="header-anchor" href="#strapi-plugin-rest-cache" aria-hidden="true">#</a> strapi-plugin-rest-cache</h1><p>This plugin provide a way to cache <strong>HTTP requests</strong> in order to <strong>improve performance</strong>. It&#39;s get inspired by varnish cache which is a popular caching solution.</p><p>The cache content is stored by a <strong>provider</strong>, which can be either an in-memory provider, a redis connection, a file system, or any other custom provider. You can set a <strong>strategy</strong> to tell what to cache and how much time responses should be cached. The cache will be invalidated when the related Content-Type is updated, so you <strong>never have to worry about stale data</strong>.</p><p>In addition, you can interact with the plugin through the admin panel, api admin routes or programmatically using internal services.</p><h2 id="provider" tabindex="-1"><a class="header-anchor" href="#provider" aria-hidden="true">#</a> Provider</h2><p>By default, the <strong>strapi-plugin-rest-cache</strong> has no provider, you have to install one of the following providers:</p><ul><li><strong>strapi-provider-rest-cache-memory</strong>: In-memory provider, it&#39;s not persisted and will be lost when the server restarts.</li><li><strong>strapi-provider-rest-cache-redis</strong>: Bridge between the cache plugin and the <a href="https://github.com/strapi-community/strapi-plugin-redis" target="_blank" rel="noopener noreferrer">strapi-plugin-redis<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><p>You have to set the provider name in the plugin configuration so it will be initialized once the plugin is bootstrapped. At this time only one provider can be used at a time.</p><p>You can also set the provider <code>getTimeout</code> which is the time in milliseconds to wait for the provider to respond, <strong>if the provider is not responding, the cache will be considered as a miss</strong>.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// file: /config/plugins.js</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> env <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token string-property property">&#39;rest-cache&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">config</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">,</span>
      <span class="token literal-property property">provider</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// name can be an alias:</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;my-provider&quot;</span><span class="token punctuation">,</span> <span class="token comment">// try to require &#39;strapi-provider-rest-cache-my-provider&#39;</span>
        <span class="token comment">// a full package name:</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;@org/my-cache-provider&quot;</span><span class="token punctuation">,</span> <span class="token comment">// try to require &#39;@org/my-cache-provider&#39;</span>
        <span class="token comment">// or a relative path:</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;../path/to/my-provider&quot;</span><span class="token punctuation">,</span>

        <span class="token comment">// provider options</span>
        <span class="token literal-property property">getTimeout</span><span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token comment">// in milliseconds (default: 500)</span>
        <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">strategy</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>Note that each provider has its own configuration, so you will have to refer to the provider documentation to know how to configure it.</p><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>Check the <a href="/strapi-plugin-rest-cache/documentation/memory-provider.html" class="">memory provider</a> and the <a href="/strapi-plugin-rest-cache/documentation/redis-provider.html" class="">redis provider</a> documentation for more details.</p></div><h2 id="strategy" tabindex="-1"><a class="header-anchor" href="#strategy" aria-hidden="true">#</a> Strategy</h2><p>The plugin will <strong>only inject cache middleware to Content-Types which have been explicitely enabled</strong>. This can be done by setting the <code>config.strategy.contentTypes</code> configuration.</p><p>It accept either a string or an object, so we can configure differently each Content-Type.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// file: /config/plugins.js</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> env <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token string-property property">&#39;rest-cache&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">config</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">,</span>
      <span class="token literal-property property">provider</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">strategy</span><span class="token operator">:</span> <span class="token comment">/* @type {CachePluginStrategy} */</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">contentTypes</span><span class="token operator">:</span> <span class="token comment">/* @type {(string|CacheContentTypeConfig)[]} */</span> <span class="token punctuation">[</span>
          <span class="token comment">// can be a string (the Content-Type UID)</span>
          <span class="token string">&quot;api::article.article&quot;</span><span class="token punctuation">,</span>

          <span class="token comment">// or a custom CacheContentTypeConfig object</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">contentType</span><span class="token operator">:</span> <span class="token string">&quot;api::pages.pages&quot;</span><span class="token punctuation">,</span>
            <span class="token comment">// ...</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><br></div><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>In addition to the <strong>contentType</strong> configuration, you can also set the default <strong>maxAge</strong>, <strong>hitpass</strong> and <strong>keys</strong> configuration, enables <strong>ETag</strong> and <strong>X-Cache</strong> headers or tune how the plugin will work for each route.</p><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>Check the <a href="/strapi-plugin-rest-cache/documentation/configuration-reference.html#cachepluginstrategy" class=""><code>CachePluginStrategy</code></a> and <a href="/strapi-plugin-rest-cache/documentation/configuration-reference.html#cachecontenttypeconfig" class=""><code>CacheContentTypeConfig</code></a> configuration reference for all available options.</p></div><h3 id="enable-cache-on-custom-routes" tabindex="-1"><a class="header-anchor" href="#enable-cache-on-custom-routes" aria-hidden="true">#</a> Enable cache on custom routes</h3><p>By default the plugin registers a middleware to intercept all <a href="https://docs.strapi.io/developer-docs/latest/developer-resources/database-apis-reference/rest-api.html#api-endpoints" target="_blank" rel="noopener noreferrer">predefined routes<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, but you can also enable it on custom routes.</p><div class="custom-container warning"><p class="custom-container-title">WARNING</p><p>At this time a custom route can only be registered within a single Content-Type.</p></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// file: /config/plugins.js</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> env <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token string-property property">&#39;rest-cache&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">config</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">,</span>
      <span class="token literal-property property">provider</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">strategy</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">contentTypes</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">contentType</span><span class="token operator">:</span> <span class="token string">&quot;api::pages.pages&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token comment">/* @type {CacheRouteConfig[]} */</span> <span class="token punctuation">[</span>
              <span class="token punctuation">{</span>
                <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;/api/pages/slug/:slug+&#39;</span><span class="token punctuation">,</span> <span class="token comment">// note that we set the /api prefix here</span>
                <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;GET&#39;</span><span class="token punctuation">,</span> <span class="token comment">// can be omitted, defaults to GET</span>
                <span class="token literal-property property">hitpass</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// overrides default hitpass for this route</span>
                <span class="token literal-property property">keys</span><span class="token operator">:</span> <span class="token comment">/* @type {CacheKeysConfig} */</span> <span class="token punctuation">{</span>
                  <span class="token literal-property property">useQueryParams</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;locale&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// use only locale query param for keys</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>Check the <a href="/strapi-plugin-rest-cache/documentation/configuration-reference.html#cacherouteconfig" class=""><code>CacheRouteConfig</code></a> and <a href="/strapi-plugin-rest-cache/documentation/configuration-reference.html#cachekeysconfig" class=""><code>CacheKeysConfig</code></a> configuration reference for all available options.</p></div><h3 id="disable-cache-for-default-routes" tabindex="-1"><a class="header-anchor" href="#disable-cache-for-default-routes" aria-hidden="true">#</a> Disable cache for default routes</h3><h3 id="content-type-relations" tabindex="-1"><a class="header-anchor" href="#content-type-relations" aria-hidden="true">#</a> Content-Type relations</h3><h3 id="dealing-with-private-content-and-authentication" tabindex="-1"><a class="header-anchor" href="#dealing-with-private-content-and-authentication" aria-hidden="true">#</a> Dealing with private content and authentication</h3><h3 id="purging-cache-programmatically" tabindex="-1"><a class="header-anchor" href="#purging-cache-programmatically" aria-hidden="true">#</a> Purging cache programmatically</h3><h3 id="enable-debug-mode" tabindex="-1"><a class="header-anchor" href="#enable-debug-mode" aria-hidden="true">#</a> Enable debug mode</h3><p>This plugins use <a href="https://www.npmjs.com/package/debug" target="_blank" rel="noopener noreferrer">debug<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> module to log messages that can help during development. You can enable debug mode by setting the environment variable <code>DEBUG=strapi:strapi-plugin-rest-cache</code> before starting strapi.</p><p>eg. <code>DEBUG=strapi:strapi-plugin-rest-cache yarn strapi develop</code></p><p>You can also enable debug mode by setting the <a href="/strapi-plugin-rest-cache/documentation/configuration-reference.html#debug" class=""><code>config.strategy.debug</code></a> configuration option to <code>true</code>.</p><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/strapi-community/strapi-plugin-rest-cache/edit/main/docs/documentation/README.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page"><!--[--><!--]--> Edit this page <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: sacha@digisquad.io">Sacha STAFYNIAK</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><!----><span class="next"><a href="/strapi-plugin-rest-cache/documentation/how-it-works.html" class="" aria-label="How it works"><!--[--><!--]--> How it works <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/strapi-plugin-rest-cache/assets/app.0455fa15.js" defer></script>
  </body>
</html>
